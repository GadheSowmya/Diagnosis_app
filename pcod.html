<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Health Insight Assistant</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet">

    <!-- Google Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
           background: url("pictures/food1.jpg") no-repeat center center fixed;
            background-size: cover;

            display: flex;
            justify-content: center;
            align-items: center;
        }

        .card {
            background: #ffffff;
            width: 480px;
            padding: 30px;
            border-radius: 14px;
            box-shadow: 0 12px 30px rgba(0,0,0,0.25);
        }

        h1 {
            text-align: center;
            margin-bottom: 5px;
            color: #333;
        }

        .subtitle {
            text-align: center;
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
        }

        textarea {
            width: 100%;
            height: 90px;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-family: 'Poppins', sans-serif;
            resize: none;
        }

        button {
            width: 100%;
            margin-top: 18px;
            padding: 12px;
            font-size: 16px;
            background: #5874f0;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        button:hover {
            background: #5a67d8;
        }

        .result {
            margin-top: 20px;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: 15px;
            color: #555;
            font-weight: 500;
        }

        .material-icons {
            font-size: 20px;
            color: #667eea;
        }

        ul {
            padding-left: 18px;
        }

        .exercise-images {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 15px;
}

.exercise-images div {
    text-align: center;
    width: 180px;              /* Medium width */
    padding: 10px;
    background: #f9f9f9;       /* Light background */
    border-radius: 14px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.15);
}

.exercise-images img {
    width: 100%;
    height: auto;              /* Let image decide height */
    max-height: 160px;         /* Medium height limit */
    object-fit: contain;       /* IMPORTANT: no cropping */
    border-radius: 10px;
}

.exercise-images p {
    margin-top: 8px;
    font-size: 14px;
    font-weight: 500;
    color: #333;
}


        .note {
            font-size: 12px;
            color: gray;
            text-align: center;
            margin-top: 15px;
        }
    </style>
</head>

<body>

<div class="card">
    <h1>Health Insight Assistant</h1>
    <p class="subtitle">Describe what you are experiencing</p>

    <!-- Text Input -->
    <textarea id="description" placeholder="Example: I feel tired, have irregular periods, and gain weight easily..."></textarea>

    <button onclick="predict()">Check Health Insight</button>

    <div class="result" id="output"></div>

    <div class="note">
        This app provides general guidance only and is not a medical diagnosis.
    </div>
</div>

<script>
function predict() {
    fetch("http://127.0.0.1:5000/predict", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            description: document.getElementById("description").value
        })
    })
    .then(res => res.json())
    .then(data => {

        let exerciseImagesHTML = "";

        const msg = data.message.toLowerCase();

        // -------- PCOD (Hormonal imbalance) --------
        if (msg.includes("hormonal imbalance")) {
            exerciseImagesHTML = `
                <div class="exercise-images">
                    <div>
                        <img src="pictures/pcod1.png">
                        <p>Yoga for hormone balance</p>
                    </div>
                    <div>
                        <img src="pictures/pcod2.png">
                        <p>Yoga(this is main to do every day</p>
                    </div>
                    
                </div>
            `;
        }

        // -------- PCOS --------
        else if (msg.includes("metabolism")) {
            exerciseImagesHTML = `
                <div class="exercise-images">
                    <div>
                        <img src="pictures/pcos1.png">
                        <p>Cardio & strength training</p>
                    </div>
                </div>
            `;
        }

        // -------- DIABETES --------
        else if (msg.includes("blood sugar")) {
            exerciseImagesHTML = `
                <div class="exercise-images">
                    <div>
                        <img src="pictures/diabities1.png">
                        <p>Brisk walking</p>
                    </div>
                    <div>
                        <img src="pictures/diabities2.png">
                        <p>Cycling</p>
                    </div>
                    <div>
                        <img src="pictures/diabities.png">
                        <p>Yoga</p>
                    </div>
                </div>
            `;
        }

        // -------- PREVENTIVE --------
        else {
            exerciseImagesHTML = `
                <div class="exercise-images">
                    <div>
                        <img src="pictures/walk.png">
                        <p>Daily walking</p>
                    </div>
                    <div>
                        <img src="pictures/stretch.png">
                        <p>Stretching</p>
                    </div>
                </div>
            `;
        }

        document.getElementById("output").innerHTML = `
            <div class="section-title">
                <span class="material-icons">medical_services</span>
                <span>Health insight</span>
            </div>
            <p>${data.message}</p>

            <div class="section-title">
                <span class="material-icons">eco</span>
                <span>Vegetables to include</span>
            </div>
            <ul>${data.vegetables.map(v => `<li>${v}</li>`).join("")}</ul>

            <div class="section-title">
                <span class="material-icons">local_grocery_store</span>
                <span>Fruits to include</span>
            </div>
            <ul>${data.fruits.map(f => `<li>${f}</li>`).join("")}</ul>

            <div class="section-title">
                <span class="material-icons">block</span>
                <span>Foods to avoid</span>
            </div>
            <ul>${data.avoid.map(a => `<li>${a}</li>`).join("")}</ul>

            <div class="section-title">
                <span class="material-icons">fitness_center</span>
                <span>Physical activity</span>
            </div>
            <ul>${data.exercise.map(e => `<li>${e}</li>`).join("")}</ul>

            ${exerciseImagesHTML}

            <div class="section-title">
                <span class="material-icons">spa</span>
                <span>Daily care tips</span>
            </div>
            <ul>${data.lifestyle.map(l => `<li>${l}</li>`).join("")}</ul>
        `;
    })
    .catch(() => {
        document.getElementById("output").innerHTML =
            "<p style='color:red;'>Backend not running</p>";
    });
}
</script>


</body>
</html>
